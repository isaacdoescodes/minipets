<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Making new pet...</title>
    <link rel="stylesheet" href="/assets/css/main.css">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.4.0/dist/confetti.browser.min.js"></script>

</head>
<body>
    <div class="content">
        <h1><br>Making new pet...</h1>
        <hr>
         We're getting '<span id="pet-name">your pet</span>' ready

<br><br>
<br><br>


<div id="loadingtext">Initializing...</div><br><br>
<a href="/reveal" class="btn" id="launch-btn" style="display: none; transition: display 1s; width: 200px; margin: auto;">Show me my pet!</a>


<script>
    const queryString = window.location.search;
    const urlParams = new URLSearchParams(queryString);
    const name = urlParams.get('name');
    document.getElementById("pet-name").innerHTML = name;
    localStorage.petname = name;
    const gender = urlParams.get('gender');
    localStorage.petgender = gender;
    localStorage.newpet = true;
    localStorage.petage = 0;
    localStorage.feeds = 5;
    localStorage.bondpoints = 40;
    localStorage.hunger = 7;
    
</script>

<script>
    window.setTimeout(function() {
        document.getElementById("launch-btn").style.display = "block";
    }, 11000, true)
</script>

<script>
    const loadingtext = [
        'Deciding personality',
        'Setting traits',
        'Deciding strengths',
        'Choosing weaknessess'
    ]
    var loadingtextbox = document.getElementById("loadingtext");
    var i = 0;                  //  set your counter to 1

    function myLoop() {         //  create a loop function
        setTimeout(function () {   //  call a 3s setTimeout when the loop is called
            loadingtextbox.innerHTML = loadingtext[i] + "...";   //  your code here
            i++;                    //  increment the counter
            if (i < 5) {           //  if the counter < 10, call the loop function
                myLoop();             //  ..  again which will trigger another 
            }
            else {
                loadingtextbox.innerHTML = "Your pet is ready!";
            }                     //  ..  setTimeout()
        }, 2000)
    }

    myLoop();
</script>
         <footer>
        &copy; isaboo.co.uk 2022. All rights reserved.<br><br>
    </footer>
    </div>
    
</body>
</html>